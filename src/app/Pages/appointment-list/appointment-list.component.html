<div class="appointment-list">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="title-header">GESTIÓN DE CITAS</div>
                            <div class="card-header"></div>
                        </div>
                        <div class="col-md-12 text-center text-title"><b>OPCIONES</b></div>
                        <div class="col-md-12 al-table">
                            <div class="container">
                                <div class="table-responsive">
                                    <div class="table">
                                        <table>
                                            <thead class="text-center">
                                                <tr>
                                                    <th>CÓDIGO CUPS</th>
                                                    <th>ESTUDIO Ó CITA</th>
                                                    <th>FECHA</th>
                                                    <th>HORA</th>
                                                    <th>CANCELAR</th>
                                                    <th>REASIGNAR</th>
                                                    <th>VER INSTRUCTIVO</th>
                                                    <!--
                                                    <th>ESTADO</th>
                                                    -->
                                                </tr>
                                            </thead>
                                            <tbody class="text-center">
                                                <tr *ngIf="!appointments">
                                                    <td></td>
                                                    <td class="info-table">Buscando historial ... </td>
                                                </tr>
                                                <tr *ngIf="appointments?.length == 0">
                                                    <td></td>
                                                    <td class="info-table">Sin resultados. </td>
                                                </tr>                        
                                                <tr *ngFor="let appointment of appointments; let ia = index;">
                                                    <td><b>{{ appointment.study.cup }}</b></td>
                                                    <td><b>{{ appointment.study.name }}</b></td>
                                                    <td><b>{{ appointment._matchingData.AppointmentDates.date_time_ini.split('-')[0].trim().split('/').reverse().join('/') }}</b></td>
                                                    <td><b>{{ appointment._matchingData.AppointmentDates.date_time_ini.split('-')[1].trim().toUpperCase() }}</b></td>
                                                    <td> 
                                                        <button  data-toggle="modal" data-target="#dynamicModal" class="btn" (click)="onCancelAppointment(appointment)">
                                                            <img width="30" title="Cancelar cita" src="assets/icons/svg/appointmentManagement/icono cerrar rojo.svg" alt="Icon Cancel">
                                                        </button>
                                                    </td>
                                                    <td>
                                                        <button class="btn" [routerLink]="['/edit-appointment', appointment]">
                                                            <img width="30" title="Reasignar cita" src="assets/icons/svg/appointmentManagement/icono reasignar cita.svg" alt="Icon Reasign">
                                                        </button>
                                                    </td>
                                                    <td>
                                                        <button class="btn">
                                                            <img width="30" title="Descargar instructivo" src="assets/icons/svg/appointmentManagement/icono descargar pdf.svg" alt="Download pdf">
                                                        </button>
                                                    </td>
                                                    <!--
                                                    <td>
                                                        <button class="btn">
                                                            <img width="30" src="assets/icons/svg/appointmentManagement/icono de aprobado.svg" alt="Icon State">
                                                        </button>
                                                    </td>
                                                    -->
                                                </tr>
                                                <!--
                                                <tr>
                                                    <td><b>895001</b></td>
                                                    <td><b>RADIOGRAFÍA RODILLA</b></td>
                                                    <td><b>26/01/2021</b></td>
                                                    <td><b>09:00 A.M</b></td>
                                                    <td> 
                                                        <button  data-toggle="modal" data-target="#dynamicModal" class="btn">
                                                            <img width="30" src="assets/icons/svg/appointmentManagement/icono cerrar rojo.svg" alt="Icon Cancel">
                                                        </button>
                                                    </td>
                                                    <td>
                                                        <button class="btn">
                                                            <img width="30" src="assets/icons/svg/appointmentManagement/icono reasignar cita.svg" alt="Icon Reasign">
                                                        </button>
                                                    </td>
                                                    <td>
                                                        <button class="btn">
                                                            <img width="30" src="assets/icons/svg/appointmentManagement/icono descargar pdf.svg" alt="Download pdf">
                                                        </button>
                                                    </td>
                                                    <td>
                                                        <button class="btn">
                                                            <img width="30" src="assets/icons/svg/appointmentManagement/icono de cancelado.svg" alt="Icon State">
                                                        </button>
                                                    </td>
                                                </tr>
                                                -->
                                            </tbody>
                                            <tfoot class="text-center">
                                                <tr>
                                                    <th>CÓDIGO CUPS</th>
                                                    <th>ESTUDIO Ó CITA</th>
                                                    <th>FECHA</th>
                                                    <th>HORA</th>
                                                    <th>CANCELAR</th>
                                                    <th>REASIGNAR</th>
                                                    <th>VER INSTRUCTIVO</th>
                                                    <th>ESTADO</th>
                                                </tr>
                                            </tfoot>
                                        </table>
                                        <div class="pagination">
                                            <a (click)="onPreviousList()">Anterior&nbsp;&nbsp;<span><b><<</b></span></a>
                                            &nbsp;&nbsp;<span>{{offset}}</span>&nbsp;&nbsp;
                                            <a (click)="onNextList()"><span><b>>></b></span>&nbsp;&nbsp;Siguiente</a> 
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<app-dynamic-modal [type]="type" [optionsModal]="optionsModal" (confirm)="onConfirm($event)"></app-dynamic-modal>